# Viral Protein Molecular Docking Database
A user interface written in Django for accessing results generated by molecular docking simulations run between viral proteins and compounds from the ZINC15 database.

## Requirements
The database to which this user interface is connected is hosted on the [Cori](https://docs.nersc.gov/systems/cori/) supercomputer at [NERSC](https://www.nersc.gov/). The database is only accessible from within the NERSC network. As such, for the user interface to work as it is currently implemented, it must also be run on the NERSC network. Additionally, the developer must be granted access to project m3718 for permissions to directly access the downloadable files from the database. 

The code is written in Python 3.7.

Install the following dependencies:
- [Django 4.0.3](https://docs.djangoproject.com/en/4.0/releases/4.0.3/)
- [mysqlclient](https://pypi.org/project/mysqlclient/)
- [django-tables2](https://django-tables2.readthedocs.io/en/latest/)
- [django-filter](https://django-filter.readthedocs.io/en/stable/)
- [django-bootstrap3](https://django-bootstrap3.readthedocs.io/en/latest/)
- [tablib](https://tablib.readthedocs.io/en/stable/)

Using pip:
```
pip install Django==4.0.3
pip install mysqlclient
pip install django-tables2
pip install django-filter
pip install django-bootstrap3
pip install tablib
```

## How to Run

Run the development server using:
```
python manage.py runserver
```
and access the webpage by visiting: http://127.0.0.1:8000/search

## Notes
- Read-only access
> The user interface has read-only access to the database (see database settings in settings.py for user, password, and host). Thus, data cannot be written to the database from the user interface. So, we include a default database (db.sqlite3) for migrations of all other apps and a database router (search/routers.py). 

- Does not retrieve all database entries.

> For demonstration purposes, only the first 500 entries, out of ~2.8 million, are retrieved from the database. While there is no performance issue in retrieving all 2.8 million records, filtering them, and displaying them, the performance for the CSV export and dynamic zip file generation is currently unreasonable for such a large number of entries.

- No website host.

> There is not yet a website domain nor host for this user interface, so the page may only be accessed from the development server. Since the database is hosted by NERSC, the website must be set up as a [science gateway](https://docs.nersc.gov/services/science-gateways/) for public access. If you seek to do so, please contact a NERSC consultant for details on how to proceed.

## Authors

Camille Huang

UC Berkeley, in collaboration with Lawrence Berkeley National Laboratory.

>Huang, C. "A User Interface to Facilitate the Access of Data from High End Simulations for Drug Discovery." 2022.